<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>LUNCHBOXX - High Protein Meals</title>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    :root{--orange:#FF4D00;--yellow:#FFB800;--dark:#0A0A0A;--gray1:#111;--gray2:#1a1a1a;--gray3:#888;--white:#FFF;--green:#00D26A;--blue:#0066FF;--font1:'Bebas Neue',sans-serif;--font2:'Inter',sans-serif}
    html,body{font-family:var(--font2);background:var(--dark);color:var(--white);min-height:100vh;-webkit-font-smoothing:antialiased}
    .app{max-width:480px;margin:0 auto;background:var(--dark);min-height:100vh;position:relative;overflow-x:hidden}
    .page{display:none;min-height:100vh;flex-direction:column}.page.active{display:flex}

```
/* Landing Page */
.logo{text-align:center;padding:20px;font-family:var(--font1);font-size:28px;letter-spacing:10px;color:var(--orange)}
.hero{padding:20px 24px 32px;text-align:center}
.hero h1{font-family:var(--font1);font-size:clamp(42px,12vw,64px);line-height:.9;color:var(--white);margin-bottom:16px;letter-spacing:3px}
.hero h1 span{color:var(--green)}
.hero .subline{font-size:15px;color:var(--gray3);margin-bottom:28px;line-height:1.5;max-width:320px;margin-left:auto;margin-right:auto}

/* Trust Strip */
.trust{display:flex;justify-content:center;gap:8px;padding:16px 12px;background:var(--gray1);margin:0 20px 20px;border-radius:12px}
.trust-item{flex:1;text-align:center;padding:8px 4px}
.trust-item h4{font-family:var(--font1);font-size:clamp(13px,3.5vw,16px);color:var(--white);margin-bottom:4px;letter-spacing:0.5px}
.trust-item p{font-size:clamp(10px,2.5vw,12px);color:var(--gray3)}

/* Toggle - 3 options */
.toggle-wrap{padding:0 20px 20px}
.menu-toggle{display:flex;background:var(--gray2);border-radius:10px;padding:4px}
.menu-toggle button{flex:1;padding:12px 8px;border:none;background:transparent;color:var(--gray3);font-family:var(--font1);font-size:13px;letter-spacing:1px;cursor:pointer;border-radius:8px;transition:all .2s}
.menu-toggle button.active{background:var(--orange);color:var(--white)}
.menu-toggle button.dessert-active{background:#D4A574;color:var(--dark)}
.menu-toggle button.team-active{background:var(--blue);color:var(--white)}

/* Dessert Section */
.dessert-section{padding:0 20px 20px;display:none}
.dessert-section.show{display:block}
.dessert-header{text-align:center;margin-bottom:16px}
.dessert-header h2{font-family:var(--font1);font-size:32px;color:#D4A574;margin-bottom:4px;letter-spacing:3px}
.dessert-header .partner{font-size:12px;color:var(--gray3)}
.dessert-header .partner span{color:#D4A574;font-weight:600}

.cookie-builder{background:var(--gray1);border-radius:16px;padding:16px;border:2px solid #3d3428}

/* Visual Cookie Box */
.cookie-box-visual{display:flex;flex-direction:column;align-items:center;padding:16px 0;position:relative}
.box-container{width:140px;height:85px;background:linear-gradient(145deg,#8B5A2B,#654321);border-radius:8px 8px 12px 12px;position:relative;box-shadow:0 8px 24px rgba(0,0,0,.4),inset 0 -4px 8px rgba(0,0,0,.3);overflow:hidden;transition:transform .2s}
.box-container.shake{animation:boxShake .4s ease}
@keyframes boxShake{0%,100%{transform:rotate(0)}25%{transform:rotate(-2deg)}75%{transform:rotate(2deg)}}
.box-inner{position:absolute;bottom:4px;left:4px;right:4px;top:4px;display:flex;flex-wrap:wrap;align-content:flex-end;justify-content:center;gap:3px;padding:2px}
.box-cookie{animation:dropIn .3s ease}
@keyframes dropIn{0%{opacity:0;transform:translateY(-10px) scale(1.3)}100%{opacity:1;transform:translateY(0) scale(1)}}

/* Mini cookies for the box */
.mini-cookie{width:22px;height:22px;border-radius:50%;position:relative;box-shadow:0 2px 4px rgba(0,0,0,.3),inset 0 -2px 3px rgba(0,0,0,.2);overflow:hidden}
.mini-cookie::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;border-radius:50%;background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.2) 0%,transparent 50%)}
.mini-cookie .chips::before,.mini-cookie .chips::after{width:4px!important;height:3px!important}
.mini-cookie .chunks::before,.mini-cookie .chunks::after{width:4px!important;height:3px!important}
.mini-cookie .drizzle::before{height:2px!important;top:5px!important}
.mini-cookie .drizzle::after{display:none}
.mini-cookie .marsh{width:6px!important;height:5px!important;top:4px!important}
.mini-cookie .swirl{width:12px!important;height:12px!important;border-width:2px!important}
.mini-cookie .filling{width:12px!important;height:12px!important}
.mini-cookie .salt,.mini-cookie .salt2,.mini-cookie .salt3,.mini-cookie .choc,.mini-cookie .choc2,.mini-cookie .bean,.mini-cookie .nut,.mini-cookie .extra,.mini-cookie .extra1,.mini-cookie .extra2{display:none}
.box-label{position:absolute;bottom:4px;left:50%;transform:translateX(-50%);font-family:var(--font1);font-size:8px;color:rgba(255,255,255,.4);letter-spacing:1px}
.box-lid{width:150px;height:18px;background:linear-gradient(145deg,#9B6A3B,#755331);border-radius:4px 4px 0 0;margin-bottom:-2px;position:relative;z-index:2;transition:all .3s ease;transform-origin:bottom center}
.box-lid.open{transform:rotateX(-120deg) translateY(-10px)}
.lid-top{position:absolute;top:-6px;left:50%;transform:translateX(-50%);width:36px;height:14px;background:linear-gradient(145deg,#A87A4B,#855941);border-radius:4px 4px 0 0}
.box-count{margin-top:10px;font-family:var(--font1);font-size:18px;color:var(--white);letter-spacing:1px}

/* Flying Cookie Animation */
.flying-cookie{position:fixed;font-size:28px;pointer-events:none;z-index:1000;opacity:0;transition:none}
.flying-cookie.animate{opacity:1;transition:all .4s cubic-bezier(.2,.8,.2,1)}

.tap-hint{text-align:center;font-size:11px;color:var(--gray3);margin-bottom:12px}

/* Custom Cookie Visuals */
.cookie-visual{width:52px;height:52px;border-radius:50%;margin:0 auto 6px;position:relative;box-shadow:0 4px 8px rgba(0,0,0,.3),inset 0 -3px 6px rgba(0,0,0,.2);display:flex;align-items:center;justify-content:center;overflow:hidden}
.cookie-visual::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;border-radius:50%;background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.15) 0%,transparent 50%);pointer-events:none}
.cookie-visual::after{content:'';position:absolute;top:2px;left:2px;right:2px;bottom:2px;border-radius:50%;border:1px solid rgba(0,0,0,.1);pointer-events:none}

/* Lemon White Chocolate */
.cookie-lemon{background:linear-gradient(145deg,#E8D59E,#D4C078)}
.cookie-lemon .chips{position:absolute;width:100%;height:100%}
.cookie-lemon .chips::before,.cookie-lemon .chips::after{content:'';position:absolute;background:#FFF8DC;border-radius:40%;box-shadow:0 1px 2px rgba(0,0,0,.2)}
.cookie-lemon .chips::before{width:10px;height:8px;top:12px;left:10px;transform:rotate(-15deg)}
.cookie-lemon .chips::after{width:8px;height:6px;bottom:14px;right:12px;transform:rotate(25deg)}
.cookie-lemon .extra{position:absolute;width:9px;height:7px;background:#FFF8DC;border-radius:40%;top:28px;right:8px;transform:rotate(-10deg)}

/* Red Velvet */
.cookie-redvelvet{background:linear-gradient(145deg,#A52A2A,#8B1A1A)}
.cookie-redvelvet .drizzle{position:absolute;width:100%;height:100%}
.cookie-redvelvet .drizzle::before{content:'';position:absolute;top:8px;left:8px;right:8px;height:3px;background:linear-gradient(90deg,transparent 0%,#FFF5EE 20%,#FFF5EE 80%,transparent 100%);border-radius:2px;transform:rotate(-8deg)}
.cookie-redvelvet .drizzle::after{content:'';position:absolute;bottom:12px;left:12px;right:12px;height:2px;background:linear-gradient(90deg,transparent 0%,#FFF5EE 30%,#FFF5EE 70%,transparent 100%);border-radius:2px;transform:rotate(5deg)}

/* Cookies N Cream */
.cookie-cookiescream{background:linear-gradient(145deg,#F5F0E6,#E8DFD0)}
.cookie-cookiescream .chunks{position:absolute;width:100%;height:100%}
.cookie-cookiescream .chunks::before,.cookie-cookiescream .chunks::after{content:'';position:absolute;background:#1C1C1C;border-radius:2px}
.cookie-cookiescream .chunks::before{width:10px;height:8px;top:10px;left:14px;transform:rotate(20deg)}
.cookie-cookiescream .chunks::after{width:8px;height:6px;bottom:12px;right:10px;transform:rotate(-15deg)}
.cookie-cookiescream .extra1{position:absolute;width:6px;height:8px;background:#2D2D2D;border-radius:2px;top:24px;right:14px;transform:rotate(45deg)}
.cookie-cookiescream .extra2{position:absolute;width:7px;height:5px;background:#1C1C1C;border-radius:2px;bottom:18px;left:10px;transform:rotate(-30deg)}

/* S'mores */
.cookie-smores{background:linear-gradient(145deg,#C4A26E,#A68B5B)}
.cookie-smores .toppings{position:absolute;width:100%;height:100%}
.cookie-smores .marsh{position:absolute;width:14px;height:12px;background:linear-gradient(145deg,#FFF8F0,#E8E0D8);border-radius:4px;top:10px;left:50%;transform:translateX(-50%)}
.cookie-smores .choc{position:absolute;width:12px;height:10px;background:#3D2314;border-radius:2px;bottom:12px;left:12px;transform:rotate(10deg)}
.cookie-smores .choc2{position:absolute;width:8px;height:8px;background:#4A2C17;border-radius:2px;bottom:16px;right:14px;transform:rotate(-20deg)}

/* Salted Caramel */
.cookie-caramel{background:linear-gradient(145deg,#D4956A,#B87A4E)}
.cookie-caramel .swirl{position:absolute;width:30px;height:30px;border:3px solid #8B5A2B;border-radius:50%;border-right-color:transparent;border-bottom-color:transparent;top:50%;left:50%;transform:translate(-50%,-50%) rotate(-45deg)}
.cookie-caramel .salt{position:absolute;width:100%;height:100%}
.cookie-caramel .salt::before,.cookie-caramel .salt::after{content:'';position:absolute;width:3px;height:3px;background:#FFF;border-radius:1px;box-shadow:0 0 2px rgba(255,255,255,.8)}
.cookie-caramel .salt::before{top:8px;right:12px}
.cookie-caramel .salt::after{bottom:10px;left:14px}
.cookie-caramel .salt2{position:absolute;width:2px;height:2px;background:#FFF;border-radius:1px;top:16px;left:10px}
.cookie-caramel .salt3{position:absolute;width:2px;height:3px;background:#FFF;border-radius:1px;bottom:16px;right:10px}

/* Matcha */
.cookie-matcha{background:linear-gradient(145deg,#7BA05B,#5C8A3D)}
.cookie-matcha .chips{position:absolute;width:100%;height:100%}
.cookie-matcha .chips::before,.cookie-matcha .chips::after{content:'';position:absolute;background:#FFF8DC;border-radius:40%;box-shadow:0 1px 2px rgba(0,0,0,.2)}
.cookie-matcha .chips::before{width:9px;height:7px;top:10px;right:12px;transform:rotate(15deg)}
.cookie-matcha .chips::after{width:8px;height:6px;bottom:14px;left:14px;transform:rotate(-20deg)}
.cookie-matcha .extra{position:absolute;width:7px;height:6px;background:#FFF8DC;border-radius:40%;top:26px;left:10px}

/* Espresso Double Choc */
.cookie-espresso{background:linear-gradient(145deg,#2C1810,#1A0F0A)}
.cookie-espresso .chips{position:absolute;width:100%;height:100%}
.cookie-espresso .chips::before,.cookie-espresso .chips::after{content:'';position:absolute;background:#4A3728;border-radius:40%}
.cookie-espresso .chips::before{width:10px;height:8px;top:10px;left:12px;transform:rotate(-10deg)}
.cookie-espresso .chips::after{width:9px;height:7px;bottom:12px;right:10px;transform:rotate(20deg)}
.cookie-espresso .bean{position:absolute;width:8px;height:12px;background:#3D2817;border-radius:50%;top:22px;right:16px}
.cookie-espresso .bean::after{content:'';position:absolute;width:1px;height:8px;background:#2C1810;left:50%;top:2px;transform:translateX(-50%)}

/* Ferrero Choc Chip */
.cookie-ferrero{background:linear-gradient(145deg,#8B6914,#6B5010)}
.cookie-ferrero .chips{position:absolute;width:100%;height:100%}
.cookie-ferrero .chips::before,.cookie-ferrero .chips::after{content:'';position:absolute;background:#5C4033;border-radius:40%}
.cookie-ferrero .chips::before{width:10px;height:8px;top:12px;left:10px;transform:rotate(15deg)}
.cookie-ferrero .chips::after{width:8px;height:7px;bottom:14px;right:12px;transform:rotate(-25deg)}
.cookie-ferrero .nut{position:absolute;width:10px;height:8px;background:#C4A35A;border-radius:50%;top:24px;right:10px;box-shadow:inset -2px -2px 3px rgba(0,0,0,.3)}

/* Nutella */
.cookie-nutella{background:linear-gradient(145deg,#C4956A,#A67B4E)}
.cookie-nutella .filling{position:absolute;width:28px;height:28px;background:radial-gradient(circle,#4A2C17 0%,#3D2314 60%,transparent 70%);top:50%;left:50%;transform:translate(-50%,-50%);border-radius:50%}
.cookie-nutella .swirl{position:absolute;width:16px;height:16px;border:2px solid #6B4423;border-radius:50%;border-right-color:transparent;top:50%;left:50%;transform:translate(-50%,-50%) rotate(45deg)}

/* Modal cookie visual - larger */
.modal-cookie-visual{width:80px!important;height:80px!important;transform:none!important}

/* Compact 3-Column Grid */
.cookie-grid-compact{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:16px}
.cookie-card{background:var(--gray2);border-radius:12px;padding:10px 6px;text-align:center;cursor:pointer;transition:all .2s;position:relative;border:2px solid transparent}
.cookie-card:hover{border-color:rgba(212,165,116,.5);transform:scale(1.02)}
.cookie-card:active{transform:scale(.96)}
.cookie-card.has-qty{border-color:#D4A574;background:rgba(212,165,116,0.15)}
.cookie-card .name{font-size:10px;font-weight:600;color:var(--white);line-height:1.2;min-height:24px;display:flex;align-items:center;justify-content:center}
.cookie-card .price{font-family:var(--font1);font-size:14px;color:#D4A574;margin-top:2px}
.cookie-card .qty-badge{position:absolute;top:-6px;right:-6px;width:22px;height:22px;background:#D4A574;color:var(--dark);border-radius:50%;font-family:var(--font1);font-size:13px;display:flex;align-items:center;justify-content:center;opacity:0;transform:scale(0);transition:all .2s}
.cookie-card.has-qty .qty-badge{opacity:1;transform:scale(1)}

/* Cookie Modal */
.cookie-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.8);z-index:1000;display:flex;align-items:flex-end;justify-content:center;opacity:0;pointer-events:none;transition:opacity .3s}
.cookie-modal-overlay.show{opacity:1;pointer-events:auto}
.cookie-modal{background:var(--gray1);border-radius:24px 24px 0 0;padding:24px;width:100%;max-width:480px;transform:translateY(100%);transition:transform .3s ease;position:relative}
.cookie-modal-overlay.show .cookie-modal{transform:translateY(0)}
.modal-close{position:absolute;top:16px;right:16px;width:32px;height:32px;background:var(--gray2);border:none;border-radius:50%;color:var(--white);font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center}
.modal-emoji{text-align:center;margin-bottom:12px;display:flex;justify-content:center}
.modal-name{font-family:var(--font1);font-size:28px;color:var(--white);text-align:center;letter-spacing:1px;margin-bottom:4px}
.modal-price{font-family:var(--font1);font-size:24px;color:#D4A574;text-align:center;margin-bottom:12px}
.modal-desc{font-size:14px;color:var(--gray3);text-align:center;line-height:1.5;margin-bottom:16px}
.modal-tags{display:flex;justify-content:center;gap:8px;flex-wrap:wrap;margin-bottom:20px}
.modal-tag{font-size:11px;padding:6px 12px;background:var(--gray2);border-radius:20px;color:var(--white)}
.modal-tag.highlight{background:rgba(212,165,116,.2);color:#D4A574}
.modal-controls{display:flex;align-items:center;justify-content:center;gap:20px;margin-bottom:20px}
.modal-btn{width:52px;height:52px;border-radius:50%;border:none;background:var(--gray2);color:var(--white);font-size:28px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .15s}
.modal-btn:hover{background:#D4A574;color:var(--dark)}
.modal-btn:active{transform:scale(.9)}
.modal-btn.plus{background:#D4A574;color:var(--dark)}
.modal-qty{font-family:var(--font1);font-size:36px;min-width:50px;text-align:center;color:var(--white)}
.modal-add-btn{width:100%;background:#D4A574;color:var(--dark);border:none;padding:16px;font-family:var(--font1);font-size:18px;letter-spacing:2px;border-radius:12px;cursor:pointer}

.cream-cheese-global{display:flex;align-items:center;justify-content:space-between;background:var(--gray2);border-radius:10px;padding:12px 14px;margin-bottom:12px}
.cream-cheese-global label{font-size:12px;color:var(--white);display:flex;align-items:center;gap:8px}
.cream-cheese-global .cc-price{font-size:11px;color:#D4A574;font-weight:600}
.toggle-switch{width:44px;height:24px;background:var(--gray1);border-radius:12px;position:relative;cursor:pointer;transition:all .2s}
.toggle-switch.on{background:#D4A574}
.toggle-switch::after{content:'';position:absolute;top:2px;left:2px;width:20px;height:20px;background:var(--white);border-radius:50%;transition:all .2s}
.toggle-switch.on::after{left:22px}

.box-summary{background:var(--gray2);border-radius:10px;padding:14px;margin-bottom:12px}
.summary-row{display:flex;justify-content:space-between;align-items:center;font-size:13px;color:var(--gray3);margin-bottom:8px}
.summary-row:last-child{margin-bottom:0}
.summary-row.total{font-size:16px;font-weight:600;color:var(--white);padding-top:8px;border-top:1px solid var(--gray1)}
.summary-row.total span:last-child{font-family:var(--font1);font-size:24px;color:#D4A574}
.summary-row .green{color:var(--green)}

.bulk-tiers{display:flex;gap:8px;margin-bottom:16px;justify-content:center}
.tier-badge{font-size:10px;padding:6px 10px;background:var(--gray2);border-radius:20px;color:var(--gray3);transition:all .2s}
.tier-badge.active{background:#D4A574;color:var(--dark);font-weight:600}

.dessert-cta{width:100%;background:#D4A574;color:var(--dark);border:none;padding:16px;font-family:var(--font1);font-size:18px;letter-spacing:2px;border-radius:10px;cursor:pointer;transition:all .2s}
.dessert-cta:hover{background:#c49660}
.dessert-cta:disabled{background:var(--gray2);color:var(--gray3);cursor:not-allowed}

/* Map Section */
.map-section{padding:0 20px 20px}
.map-container{background:var(--gray1);border-radius:16px;overflow:hidden;position:relative}
.map-header{padding:20px;display:flex;justify-content:space-between;align-items:center}
.map-header h3{font-family:var(--font1);font-size:22px;letter-spacing:1px}
.map-header span{font-size:12px;color:var(--green)}
#partnerMap{height:280px;width:100%;background:var(--gray2)}
.map-filters{display:flex;gap:8px;padding:12px 16px;overflow-x:auto;border-top:1px solid var(--gray2)}
.map-filters::-webkit-scrollbar{display:none}
.filter-chip{flex-shrink:0;padding:8px 16px;background:var(--gray2);border:1px solid #333;border-radius:100px;font-size:12px;color:var(--white);cursor:pointer;transition:all .2s}
.filter-chip.active{background:var(--orange);border-color:var(--orange)}
.filter-chip.active.green{background:var(--green);border-color:var(--green);color:var(--dark)}
.partner-list{max-height:200px;overflow-y:auto;padding:0 16px 16px}
.partner-card{display:flex;align-items:center;gap:12px;padding:14px;background:var(--gray2);border-radius:12px;margin-bottom:8px;cursor:pointer;border:2px solid transparent;transition:all .2s}
.partner-card:hover{border-color:var(--orange)}
.partner-card.active{border-color:var(--green)}
.partner-avatar{width:48px;height:48px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:20px}
.partner-avatar.meals{background:linear-gradient(135deg,#FF4D0033,#FF4D0011)}
.partner-avatar.cookies{background:linear-gradient(135deg,#FFB80033,#FFB80011)}
.partner-avatar.drinks{background:linear-gradient(135deg,#0066FF33,#0066FF11)}
.partner-avatar.snacks{background:linear-gradient(135deg,#00D26A33,#00D26A11)}
.partner-info{flex:1}
.partner-name{font-weight:600;font-size:14px;margin-bottom:2px}
.partner-product{font-size:12px;color:var(--gray3)}
.partner-meta{text-align:right}
.partner-distance{font-size:11px;color:var(--gray3)}
.partner-status{font-size:10px;color:var(--green);font-weight:600}
.pickup-badge{display:inline-block;padding:4px 8px;background:var(--green);color:var(--dark);font-size:9px;font-weight:700;border-radius:4px;margin-top:4px}

/* Product Cards */
.products{padding:0 20px 24px}
.product-card{background:var(--gray1);border-radius:16px;padding:24px;margin-bottom:16px;position:relative;overflow:hidden;cursor:pointer;border:2px solid transparent;transition:all .2s}
.product-card:hover{border-color:var(--orange)}
.product-card:active{transform:scale(.98)}
.product-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}
.product-name{font-family:var(--font1);font-size:28px;letter-spacing:1px;line-height:1}
.product-price{text-align:right}
.product-price .from{font-size:11px;color:var(--gray3);text-transform:uppercase}
.product-price .amount{font-family:var(--font1);font-size:32px;color:var(--yellow)}
.product-desc{font-size:13px;color:var(--gray3);margin-bottom:20px;line-height:1.5}

/* Animated Macro Cards */
.macro-ticker{display:flex;gap:8px;overflow:hidden;position:relative}
.macro-ticker::after{content:'';position:absolute;right:0;top:0;bottom:0;width:40px;background:linear-gradient(to right,transparent,var(--gray1))}
.macro-cards{display:flex;gap:8px;animation:ticker 8s linear infinite}
.macro-card{flex-shrink:0;background:var(--gray2);border-radius:10px;padding:12px 16px;min-width:90px;text-align:center;border:1px solid #333}
.macro-card.protein{background:linear-gradient(135deg,#00D26A22,#00D26A11);border-color:var(--green)}
.macro-card .mc-val{font-family:var(--font1);font-size:24px;color:var(--white)}
.macro-card.protein .mc-val{color:var(--green)}
.macro-card .mc-lbl{font-size:9px;color:var(--gray3);text-transform:uppercase;letter-spacing:1px;margin-top:2px}
@keyframes ticker{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}

.order-arrow{position:absolute;right:20px;bottom:24px;width:44px;height:44px;background:var(--orange);border-radius:50%;display:flex;align-items:center;justify-content:center}
.order-arrow svg{width:20px;height:20px;color:var(--white)}

/* Team Section */
.team-section{padding:20px;display:none}
.team-section.show{display:block}
.team-header{text-align:center;margin-bottom:20px}
.team-header h2{font-family:var(--font1);font-size:32px;color:var(--blue);margin-bottom:4px;letter-spacing:2px}
.team-header p{font-size:13px;color:var(--gray3)}
.team-card{background:var(--gray1);border:2px solid var(--blue);border-radius:16px;padding:20px}
.tier{display:flex;justify-content:space-between;align-items:center;padding:14px;background:var(--gray2);border-radius:10px;margin-bottom:8px}
.tier-info strong{font-size:14px}
.tier-price .price{font-family:var(--font1);font-size:28px;color:var(--yellow)}
.tier-save{font-size:11px;color:var(--green);font-weight:600}
.team-perks{margin-top:16px}
.team-perks li{font-size:13px;color:var(--gray3);padding:8px 0;display:flex;align-items:center;gap:10px;list-style:none}
.team-perks li svg{width:16px;height:16px;color:var(--blue)}
.team-cta{width:100%;background:var(--blue);color:var(--white);border:none;padding:16px;font-family:var(--font1);font-size:18px;letter-spacing:2px;border-radius:10px;cursor:pointer;margin-top:20px}

/* Footer */
.foot{padding:32px 20px;text-align:center;margin-top:auto}
.foot .fl{font-family:var(--font1);font-size:20px;letter-spacing:6px;color:var(--orange);margin-bottom:8px}
.foot p{font-size:12px;color:var(--gray3)}
.foot .local{color:var(--yellow);font-weight:600}

/* Order Flow */
.hdr{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;background:var(--dark);border-bottom:1px solid var(--gray2);position:sticky;top:0;z-index:10}
.back{background:none;border:none;color:var(--white);cursor:pointer;padding:4px}.back svg{width:22px;height:22px}
.hdr-logo{font-family:var(--font1);font-size:18px;letter-spacing:4px;color:var(--orange)}
.free-ban{background:var(--green);padding:10px;text-align:center;font-size:12px;font-weight:700;color:var(--dark);letter-spacing:1px}
.free-ban.blue{background:var(--blue);color:var(--white)}
.steps{display:flex;align-items:center;justify-content:center;padding:16px;background:var(--gray1);gap:6px}
.step{width:32px;height:32px;border-radius:50%;background:var(--gray2);color:var(--gray3);display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:700}
.step.active{background:var(--orange);color:var(--white)}.step.done{background:var(--green);color:var(--white)}
.step.active.blue{background:var(--blue)}.step.active.green{background:var(--green)}
.sline{width:20px;height:2px;background:var(--gray2)}.sline.done{background:var(--green)}
.content{flex:1;padding:24px 20px;padding-bottom:140px;overflow-y:auto}
.content h2{font-family:var(--font1);font-size:24px;margin-bottom:6px;display:flex;align-items:center;gap:8px;color:var(--white);letter-spacing:1px}
.content h2 svg{width:22px;height:22px;color:var(--orange)}
.content h2 svg.blue{color:var(--blue)}.content h2 svg.green{color:var(--green)}
.content .sub{font-size:13px;color:var(--gray3);margin-bottom:20px}

/* Bowl Selection in Order Flow */
.bowl-options{display:flex;flex-direction:column;gap:12px}
.bowl-opt{background:var(--gray1);border:2px solid var(--gray2);border-radius:12px;padding:20px;cursor:pointer;transition:all .2s}
.bowl-opt:active{transform:scale(.98)}
.bowl-opt.sel{border-color:var(--orange)}
.bowl-opt h4{font-family:var(--font1);font-size:22px;margin-bottom:4px}
.bowl-opt p{font-size:12px;color:var(--gray3)}

/* Size Selection */
.selected-bowl{background:var(--gray1);border-radius:10px;padding:16px;margin-bottom:20px;display:flex;align-items:center;gap:16px}
.selected-bowl .info{flex:1}
.selected-bowl .info h4{font-family:var(--font1);font-size:20px;color:var(--white)}
.selected-bowl .info p{font-size:12px;color:var(--gray3)}
.selected-bowl .change{background:none;border:none;color:var(--orange);font-size:12px;font-weight:600;cursor:pointer}
.size-selector{display:flex;flex-direction:column;gap:12px}
.size-opt{background:var(--gray1);border:2px solid var(--gray2);border-radius:12px;padding:20px;cursor:pointer;transition:all .2s}
.size-opt:active{transform:scale(.98)}
.size-opt.sel{border-color:var(--orange)}
.size-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.size-header h5{font-family:var(--font1);font-size:26px;color:var(--white)}
.size-header .price{font-family:var(--font1);font-size:32px;color:var(--yellow)}
.macro-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
.macro-box{background:var(--gray2);border-radius:8px;padding:12px 8px;text-align:center}
.macro-box .val{font-family:var(--font1);font-size:20px;color:var(--white)}
.macro-box .lbl{font-size:10px;color:var(--gray3);text-transform:uppercase;margin-top:2px}
.macro-box.highlight{background:linear-gradient(135deg,#00D26A33,#00D26A22);border:1px solid var(--green)}.macro-box.highlight .val{color:var(--green)}

/* Options */
.opts{display:flex;flex-direction:column;gap:10px}
.opt{display:flex;align-items:center;gap:12px;background:var(--gray1);border:2px solid var(--gray2);border-radius:10px;padding:16px;cursor:pointer;width:100%;text-align:left;color:var(--white);font-family:var(--font2);transition:all .2s}
.opt:active{transform:scale(.99)}
.opt.sel{border-color:var(--orange);background:rgba(255,77,0,.05)}
.opt-icon{width:44px;height:44px;background:var(--gray2);border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:var(--orange)}
.opt.blue .opt-icon{color:var(--blue)}.opt.green .opt-icon{color:var(--green)}
.opt-info{flex:1}
.opt-label{font-weight:600;font-size:15px}
.opt-detail{font-size:12px;color:var(--gray3)}
.opt-note{font-size:10px;color:var(--green);font-weight:600;margin-top:2px}
.opt .chk{color:var(--orange);width:22px;height:22px;display:none}
.opt.sel .chk{display:block}

/* Custom Location */
.custom-loc{margin-top:12px;padding:16px;background:var(--gray1);border-radius:10px;border:2px solid var(--gray2);cursor:pointer}
.custom-loc.sel{border-color:var(--orange)}
.custom-loc h4{font-size:15px;font-weight:600;margin-bottom:4px;display:flex;align-items:center;gap:8px}
.custom-loc h4 svg{width:18px;height:18px;color:var(--orange)}
.custom-loc p{font-size:12px;color:var(--gray3);margin-bottom:12px}
.custom-loc input{width:100%;background:var(--gray2);border:none;border-radius:8px;padding:14px;color:var(--white);font-family:var(--font2);font-size:14px;margin-bottom:8px}
.custom-loc input::placeholder{color:var(--gray3)}
.custom-loc .chk-row{display:flex;justify-content:flex-end}
.custom-loc .chk{color:var(--orange);width:22px;height:22px;display:none}
.custom-loc.sel .chk{display:block}

/* Footer Button */
.pfooter{position:fixed;bottom:0;left:50%;transform:translateX(-50%);width:100%;max-width:480px;padding:16px 20px 24px;background:linear-gradient(transparent,var(--dark) 30%)}
.contbtn{width:100%;background:var(--orange);color:var(--white);border:none;padding:18px;font-family:var(--font1);font-size:18px;letter-spacing:2px;border-radius:10px;cursor:pointer}
.contbtn.off{background:var(--gray2);color:var(--gray3);cursor:not-allowed}
.contbtn.blue{background:var(--blue)}.contbtn.green{background:var(--green);color:var(--dark)}

/* Summary */
.summary{background:var(--gray1);border-radius:16px;overflow:hidden}
.sum-prod{display:flex;align-items:center;gap:16px;padding:20px;border-bottom:1px solid var(--gray2)}
.sum-img{width:56px;height:56px;background:var(--gray2);border-radius:10px;display:flex;align-items:center;justify-content:center;font-family:var(--font1);font-size:14px;color:var(--orange)}
.sum-info{flex:1}.sum-info h4{font-size:15px;font-weight:600}.sum-info p{font-size:12px;color:var(--gray3)}
.sum-price{font-family:var(--font1);font-size:24px;color:var(--yellow)}
.qty-row{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid var(--gray2);font-weight:600}
.qty-ctrl{display:flex;align-items:center;gap:16px;background:var(--gray2);border-radius:100px;padding:4px}
.qty-ctrl button{width:36px;height:36px;border-radius:50%;border:none;background:var(--dark);color:var(--white);font-size:18px;cursor:pointer}
.qty-ctrl span{font-size:18px;font-weight:700;min-width:24px;text-align:center}
.del-sum{padding:16px 20px;border-bottom:1px solid var(--gray2)}
.sum-item{display:flex;align-items:center;gap:12px;padding:10px 0}
.sum-item svg{color:var(--orange);width:20px;height:20px}
.sum-item>div{flex:1}
.sum-lbl{font-size:10px;color:var(--gray3);text-transform:uppercase;letter-spacing:1px}
.sum-val{font-size:14px;font-weight:600}
.edit-btn{background:none;border:none;color:var(--orange);font-size:12px;font-weight:600;cursor:pointer}
.total-row{display:flex;align-items:center;justify-content:space-between;padding:20px;background:var(--gray2)}
.total-row span:first-child{font-weight:700;text-transform:uppercase;letter-spacing:1px}
.total-price{font-family:var(--font1);font-size:32px;color:var(--yellow)}
.discount-row{display:flex;justify-content:space-between;padding:12px 20px;background:rgba(0,210,106,.1);border-bottom:1px solid var(--gray2)}
.discount-row span{font-size:12px;color:var(--green);font-weight:600}
.checkbtn{width:100%;background:var(--orange);color:var(--white);border:none;padding:18px;font-family:var(--font1);font-size:18px;letter-spacing:2px;border-radius:10px;cursor:pointer}
.checkbtn.blue{background:var(--blue)}.checkbtn.green{background:var(--green);color:var(--dark)}
.checknote{text-align:center;font-size:12px;color:var(--gray3);margin-top:12px}

/* Confirmation */
.conf-page{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;text-align:center}
.conf-icon{width:72px;height:72px;background:var(--green);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 16px}
.conf-icon svg{width:36px;height:36px;color:var(--white)}
.conf-page h1{font-family:var(--font1);font-size:32px;color:var(--green);margin-bottom:8px;letter-spacing:2px}
.conf-page>div>p{color:var(--gray3);margin-bottom:24px}
.conf-card{background:var(--gray1);border-radius:16px;padding:20px;margin-bottom:20px;text-align:left}
.conf-row{display:flex;justify-content:space-between;padding:12px 0;border-bottom:1px solid var(--gray2)}
.conf-row:last-child{border-bottom:none}
.conf-row span:first-child{color:var(--gray3)}
.conf-row span:last-child{font-weight:600}
.conf-row.total span:last-child{color:var(--yellow);font-family:var(--font1);font-size:24px}

/* Plan */
.plan-hero{background:linear-gradient(135deg,rgba(0,210,106,.1),rgba(0,102,255,.05));border:2px solid var(--green);border-radius:16px;padding:32px;text-align:center;margin-bottom:20px}
.plan-hero .big-price{font-family:var(--font1);font-size:64px;color:var(--yellow);line-height:1}
.plan-hero .per{font-size:16px;color:var(--gray3)}
.plan-hero .save-badge{display:inline-block;background:var(--green);color:var(--dark);padding:8px 20px;border-radius:100px;font-size:13px;font-weight:700;margin-top:16px}
.plan-features{background:var(--gray1);border-radius:12px;padding:20px;margin-bottom:20px}
.plan-features h4{font-family:var(--font1);font-size:18px;margin-bottom:16px;letter-spacing:1px}
.plan-features li{display:flex;align-items:center;gap:12px;font-size:14px;padding:8px 0;list-style:none}
.plan-features li svg{width:18px;height:18px;color:var(--green)}
.plan-breakdown{background:var(--gray2);border-radius:12px;padding:16px;text-align:center;margin-bottom:20px}
.plan-breakdown .daily{font-family:var(--font1);font-size:40px;color:var(--yellow)}
.plan-breakdown .daily span{font-size:16px;color:var(--gray3)}
.plan-breakdown p{font-size:12px;color:var(--green);margin-top:4px}

.hidden{display:none!important}
```

  </style>
</head>
<body>
<div class="app">
  <div id="landing" class="page active">
    <div class="logo">LUNCHBOXX</div>
    <div class="hero">
      <h1>HIGH PROTEIN<br><span>DELIVERED</span></h1>
      <p class="subline">Hand delivered to you hot and ready. No 3rd party apps. No cold food.</p>
    </div>

```
<div class="trust">
    <div class="trust-item"><h4>COOKED SAME DAY</h4><p>Fresh, never frozen</p></div>
    <div class="trust-item"><h4>SEALED & LABELED</h4><p>Macros on every box</p></div>
    <div class="trust-item"><h4>FREE DELIVERY</h4><p>No third-party apps</p></div>
  </div>

<div class="toggle-wrap">
  <div class="menu-toggle">
    <button id="togglePersonal" class="active" onclick="toggleMenu('personal')">MEALS</button>
    <button id="toggleDessert" onclick="toggleMenu('dessert')">DESSERTS</button>
    <button id="toggleTeam" onclick="toggleMenu('team')">TEAM 10+</button>
  </div>
</div>

<div id="dessertSection" class="dessert-section">
  <div class="dessert-header">
    <h2>COOKIEBOXX</h2>
    <p class="partner">Powered by <span>Fudge & Crumble Patisserie</span></p>
  </div>
  
  <div class="cookie-builder">
    <!-- Visual Cookie Box -->
    <div class="cookie-box-visual">
      <div class="box-lid" id="boxLid">
        <div class="lid-top"></div>
      </div>
      <div class="box-container" id="cookieBox">
        <div class="box-inner" id="boxInner"></div>
        <div class="box-label">COOKIEBOXX</div>
      </div>
      <div class="box-count" id="boxCount">0 cookies</div>
    </div>

    <!-- Flying cookie animation target -->
    <div class="flying-cookie" id="flyingCookie">üç™</div>
    
    <p class="tap-hint">Tap a cookie for details</p>
    
    <div class="cookie-grid-compact" id="cookieGrid"></div>
    
    <div class="cream-cheese-global">
      <label>
        <span>üßÄ</span>
        Cream Cheese Stuffing
      </label>
      <div style="display:flex;align-items:center;gap:10px">
        <span class="cc-price">+$1/ea</span>
        <div class="toggle-switch" id="creamCheeseToggle" onclick="toggleCreamCheese()"></div>
      </div>
    </div>

    <div class="box-summary" id="boxSummary">
      <div class="summary-row">
        <span>Cookies</span>
        <span id="totalCookies">0</span>
      </div>
      <div class="summary-row discount-row" id="discountRow" style="display:none">
        <span id="discountLabel">Bulk discount</span>
        <span id="discountAmt" class="green">-$0</span>
      </div>
      <div class="summary-row total">
        <span>Total</span>
        <span id="cookieTotal">$0.00</span>
      </div>
    </div>

    <div class="bulk-tiers">
      <div class="tier-badge" id="tier10">10+ = 5% off</div>
      <div class="tier-badge" id="tier20">20+ = 10% off</div>
      <div class="tier-badge" id="tier30">30+ = 15% off</div>
    </div>

    <button class="dessert-cta" id="dessertCta" onclick="orderCookies()" disabled>ADD COOKIES TO ORDER</button>
  </div>
</div>

<!-- Cookie Detail Modal -->
<div class="cookie-modal-overlay" id="cookieModal" onclick="closeCookieModal()">
  <div class="cookie-modal" onclick="event.stopPropagation()">
    <button class="modal-close" onclick="closeCookieModal()">√ó</button>
    <div class="modal-emoji" id="modalEmoji">üç™</div>
    <h3 class="modal-name" id="modalName">Cookie Name</h3>
    <div class="modal-price" id="modalPrice">$0.00</div>
    <p class="modal-desc" id="modalDesc">Description here</p>
    <div class="modal-tags" id="modalTags"></div>
    <div class="modal-controls">
      <button class="modal-btn minus" onclick="modalUpdateQty(-1)">‚àí</button>
      <div class="modal-qty" id="modalQty">0</div>
      <button class="modal-btn plus" onclick="modalUpdateQty(1)">+</button>
    </div>
    <button class="modal-add-btn" onclick="closeCookieModal()">DONE</button>
  </div>
</div>

<div id="personalSection">
  <div class="products">
    <div class="product-card" onclick="quickOrder('chicken')">
      <div class="product-header">
        <div class="product-name">CRISPY CHICKEN</div>
        <div class="product-price"><div class="from">From</div><div class="amount">$10.99</div></div>
      </div>
      <div class="product-desc">Creamy alfredo bowl loaded with crispy chicken topped with crispy onions</div>
      <div class="macro-ticker">
        <div class="macro-cards">
          <div class="macro-card protein"><div class="mc-val">70g</div><div class="mc-lbl">Protein</div></div>
          <div class="macro-card"><div class="mc-val">880</div><div class="mc-lbl">Calories</div></div>
          <div class="macro-card"><div class="mc-val">80g</div><div class="mc-lbl">Carbs</div></div>
          <div class="macro-card"><div class="mc-val">34g</div><div class="mc-lbl">Fat</div></div>
          <div class="macro-card protein"><div class="mc-val">70g</div><div class="mc-lbl">Protein</div></div>
          <div class="macro-card"><div class="mc-val">880</div><div class="mc-lbl">Calories</div></div>
          <div class="macro-card"><div class="mc-val">80g</div><div class="mc-lbl">Carbs</div></div>
          <div class="macro-card"><div class="mc-val">34g</div><div class="mc-lbl">Fat</div></div>
        </div>
      </div>
      <div class="order-arrow"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg></div>
    </div>

    <div class="product-card" onclick="quickOrder('sausage')">
      <div class="product-header">
        <div class="product-name">CHICKEN & SAUSAGE</div>
        <div class="product-price"><div class="from">From</div><div class="amount">$10.99</div></div>
      </div>
      <div class="product-desc">Creamy alfredo bowl loaded with crispy chicken and savory sausage topped with crispy onions</div>
      <div class="macro-ticker">
        <div class="macro-cards">
          <div class="macro-card protein"><div class="mc-val">70g</div><div class="mc-lbl">Protein</div></div>
          <div class="macro-card"><div class="mc-val">980</div><div class="mc-lbl">Calories</div></div>
          <div class="macro-card"><div class="mc-val">88g</div><div class="mc-lbl">Carbs</div></div>
          <div class="macro-card"><div class="mc-val">40g</div><div class="mc-lbl">Fat</div></div>
          <div class="macro-card protein"><div class="mc-val">70g</div><div class="mc-lbl">Protein</div></div>
          <div class="macro-card"><div class="mc-val">980</div><div class="mc-lbl">Calories</div></div>
          <div class="macro-card"><div class="mc-val">88g</div><div class="mc-lbl">Carbs</div></div>
          <div class="macro-card"><div class="mc-val">40g</div><div class="mc-lbl">Fat</div></div>
        </div>
      </div>
      <div class="order-arrow"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg></div>
    </div>
  </div>
</div>

<div id="teamSection" class="team-section">
  <div class="team-header"><h2>TEAM ORDERS</h2><p>Bulk pricing for 10+ bowls</p></div>
  <div class="team-card">
    <div class="tier"><div class="tier-info"><strong>10-19 bowls</strong></div><div class="tier-price"><div class="price">$14.99</div><div class="tier-save">Save 25%</div></div></div>
    <div class="tier"><div class="tier-info"><strong>20-29 bowls</strong></div><div class="tier-price"><div class="price">$13.99</div><div class="tier-save">Save 30%</div></div></div>
    <div class="tier"><div class="tier-info"><strong>30+ bowls</strong></div><div class="tier-price"><div class="price">$12.99</div><div class="tier-save">Save 35%</div></div></div>
    <ul class="team-perks">
      <li><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Free delivery</li>
      <li><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>70g protein per bowl</li>
      <li><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Mix & match flavors</li>
    </ul>
    <button class="team-cta" onclick="startTeamOrder()">START TEAM ORDER</button>
  </div>
</div>

<div class="foot"><div class="fl">LUNCHBOXX</div><p><span class="local">Made in Surrey, BC</span></p></div>
```

  </div>

  <div id="order" class="page">
    <div class="hdr"><button class="back" onclick="goBack()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg></button><div class="hdr-logo">LUNCHBOXX</div><div style="width:26px"></div></div>
    <div class="free-ban">FREE DELIVERY</div>
    <div class="steps"><div id="s1" class="step active">1</div><div id="l1" class="sline"></div><div id="s2" class="step">2</div><div id="l2" class="sline"></div><div id="s3" class="step">3</div><div id="l3" class="sline"></div><div id="s4" class="step">4</div><div id="l4" class="sline"></div><div id="s5" class="step">5</div></div>
    <div id="c1" class="content"><h2><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/></svg>CHOOSE BOWL</h2><p class="sub">Select your meal</p><div class="bowl-options" id="bowlSelect"></div></div>
    <div id="c2" class="content hidden"><h2><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/></svg>CHOOSE SIZE</h2><p class="sub">Select your portion</p><div id="selectedBowl" class="selected-bowl"></div><div id="sizeSelector" class="size-selector"></div></div>
    <div id="c3" class="content hidden"><h2><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>DROP OFF TIME</h2><p class="sub">When do you want it?</p><div id="windows" class="opts"></div></div>
    <div id="c4" class="content hidden"><h2><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0116 0Z"/><circle cx="12" cy="10" r="3"/></svg>DROP OFF LOCATION</h2><p class="sub">Where should we meet you?</p><div id="locations" class="opts"></div><div id="customLoc" class="custom-loc" onclick="selectCustom()"><h4><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/></svg>CUSTOM LOCATION</h4><p>Your home or office</p><input type="text" id="customAddr" placeholder="Enter address" onclick="event.stopPropagation()"><div class="chk-row"><svg class="chk" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div></div><div class="pfooter"><button id="btn4" class="contbtn off" onclick="next()" disabled>CONTINUE</button></div></div>
    <div id="c5" class="content hidden"><h2><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"/></svg>REVIEW ORDER</h2><div class="summary"><div class="sum-prod"><div class="sum-img" id="rEmoji">LB</div><div class="sum-info"><h4 id="rName">-</h4><p id="rMacro">-</p></div><div id="rPrice" class="sum-price">-</div></div><div class="qty-row"><span>Quantity</span><div class="qty-ctrl"><button onclick="qty(-1)">‚àí</button><span id="qtyD">1</span><button onclick="qty(1)">+</button></div></div><div class="del-sum"><div class="sum-item"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg><div><span class="sum-lbl">Window</span><span id="rWin" class="sum-val">-</span></div><button class="edit-btn" onclick="goTo(3)">Edit</button></div><div class="sum-item"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0116 0Z"/><circle cx="12" cy="10" r="3"/></svg><div><span class="sum-lbl">Location</span><span id="rLoc" class="sum-val">-</span></div><button class="edit-btn" onclick="goTo(4)">Edit</button></div></div><div class="total-row"><span>Total</span><span id="rTotal" class="total-price">-</span></div></div><div class="pfooter"><button class="checkbtn" onclick="checkout()">CHECKOUT</button><p class="checknote">Free delivery ‚Ä¢ Secure payment</p></div></div>
  </div>

  <div id="teamOrder" class="page">
    <div class="hdr"><button class="back" onclick="goBackTeam()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg></button><div class="hdr-logo">LUNCHBOXX</div><div style="width:26px"></div></div>
    <div class="free-ban blue">TEAM ORDER ‚Ä¢ 10+ BOWLS</div>
    <div class="steps"><div id="ts1" class="step active blue">1</div><div id="tl1" class="sline"></div><div id="ts2" class="step">2</div><div id="tl2" class="sline"></div><div id="ts3" class="step">3</div><div id="tl3" class="sline"></div><div id="ts4" class="step">4</div></div>
    <div id="tc1" class="content"><h2><svg class="blue" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/></svg>BUILD ORDER</h2><p class="sub">XL bowls ‚Ä¢ 70g protein each</p>
      <div class="bowl-opt" style="margin-bottom:12px;cursor:default"><div style="display:flex;justify-content:space-between;align-items:center"><div><h4>CRISPY CHICKEN</h4><p>Creamy alfredo with crispy chicken</p></div><div class="qty-ctrl"><button onclick="teamQty('chicken',-1)">‚àí</button><span id="tqChicken">0</span><button onclick="teamQty('chicken',1)">+</button></div></div></div>
      <div class="bowl-opt" style="cursor:default"><div style="display:flex;justify-content:space-between;align-items:center"><div><h4>CHICKEN & SAUSAGE</h4><p>Creamy alfredo with chicken & sausage</p></div><div class="qty-ctrl"><button onclick="teamQty('sausage',-1)">‚àí</button><span id="tqSausage">0</span><button onclick="teamQty('sausage',1)">+</button></div></div></div>
      <div style="background:var(--gray1);border-radius:12px;padding:16px;margin-top:16px"><div style="display:flex;justify-content:space-between;margin-bottom:12px"><span style="color:var(--gray3)">Total Bowls</span><span id="teamTotalBowls" style="font-family:var(--font1);font-size:28px">0</span></div><div style="display:flex;justify-content:space-between"><span style="color:var(--gray3)">Price/bowl</span><div style="text-align:right"><span id="teamPriceEach" style="font-family:var(--font1);font-size:28px;color:var(--yellow)">$19.99</span><div id="teamDiscount" style="font-size:12px;color:var(--green);font-weight:600"></div></div></div></div>
      <p id="teamMinNote" style="font-size:12px;color:var(--orange);text-align:center;margin-top:12px">Minimum 10 bowls required</p>
      <div class="pfooter"><button id="tbtn1" class="contbtn blue off" onclick="nextTeam()" disabled>CONTINUE</button></div>
    </div>
    <div id="tc2" class="content hidden"><h2><svg class="blue" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>DROP OFF TIME</h2><p class="sub">When do you want it?</p><div id="twindows" class="opts"></div></div>
    <div id="tc3" class="content hidden"><h2><svg class="blue" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0116 0Z"/><circle cx="12" cy="10" r="3"/></svg>DROP OFF LOCATION</h2><p class="sub">Where should we deliver?</p><div id="tlocations" class="opts"></div><div id="tcustomLoc" class="custom-loc" onclick="selectTeamCustom()"><h4><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color:var(--blue)"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/></svg>CUSTOM</h4><p>Your office or site</p><input type="text" id="tcustomAddr" placeholder="Enter address" onclick="event.stopPropagation()"><div class="chk-row"><svg class="chk" style="color:var(--blue)" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div></div><div class="pfooter"><button id="tbtn3" class="contbtn blue off" onclick="nextTeam()" disabled>CONTINUE</button></div></div>
    <div id="tc4" class="content hidden"><h2><svg class="blue" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"/></svg>REVIEW ORDER</h2><div class="summary"><div class="sum-prod"><div class="sum-img" style="color:var(--blue)">LB</div><div class="sum-info"><h4 id="trName">-</h4><p>70g protein each</p></div><div id="trPrice" class="sum-price">-</div></div><div class="del-sum"><div class="sum-item"><svg style="color:var(--blue)" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg><div><span class="sum-lbl">Window</span><span id="trWin" class="sum-val">-</span></div><button class="edit-btn" style="color:var(--blue)" onclick="goToTeam(2)">Edit</button></div><div class="sum-item"><svg style="color:var(--blue)" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0116 0Z"/><circle cx="12" cy="10" r="3"/></svg><div><span class="sum-lbl">Location</span><span id="trLoc" class="sum-val">-</span></div><button class="edit-btn" style="color:var(--blue)" onclick="goToTeam(3)">Edit</button></div></div><div class="discount-row"><span id="trDiscountLabel">Bulk Discount</span><span id="trDiscountAmt">-</span></div><div class="total-row"><span>Total</span><span id="trTotal" class="total-price">-</span></div></div><div class="pfooter"><button class="checkbtn blue" onclick="checkoutTeam()">CHECKOUT</button></div></div>
  </div>

  <div id="plan" class="page">
    <div class="hdr"><button class="back" onclick="goBackPlan()"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"/></svg></button><div class="hdr-logo">LUNCHBOXX</div><div style="width:26px"></div></div>
    <div class="free-ban" style="background:var(--green)">30-DAY MEAL PLAN ‚Ä¢ SAVE $150</div>
    <div class="steps"><div id="ps1" class="step active green">1</div><div id="pl1" class="sline"></div><div id="ps2" class="step">2</div><div id="pl2" class="sline"></div><div id="ps3" class="step">3</div><div id="pl3" class="sline"></div><div id="ps4" class="step">4</div></div>
    <div id="pc1" class="content"><h2><svg class="green" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>30-DAY PLAN</h2><div class="plan-hero"><div class="big-price">$449.99</div><div class="per">per month</div><div class="save-badge">SAVE $150</div></div><div class="plan-features"><h4>WHAT YOU GET</h4><ul style="list-style:none;padding:0"><li><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>1 XL bowl every day</li><li><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>70g protein per bowl</li><li><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Free delivery daily</li><li><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Switch flavors anytime</li><li><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Skip days if needed</li></ul></div><div class="plan-breakdown"><div class="daily">$14.99<span>/day</span></div><p>vs $19.99 single order</p></div><div class="pfooter"><button class="contbtn green" onclick="nextPlan()">START MY PLAN</button></div></div>
    <div id="pc2" class="content hidden"><h2><svg class="green" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>DEFAULT TIME</h2><p class="sub">When do you usually want it?</p><div id="pwindows" class="opts"></div></div>
    <div id="pc3" class="content hidden"><h2><svg class="green" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0116 0Z"/><circle cx="12" cy="10" r="3"/></svg>DEFAULT LOCATION</h2><p class="sub">Where should we deliver?</p><div id="plocations" class="opts"></div><div id="pcustomLoc" class="custom-loc" onclick="selectPlanCustom()"><h4><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color:var(--green)"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/></svg>CUSTOM</h4><p>Your home or office</p><input type="text" id="pcustomAddr" placeholder="Enter address" onclick="event.stopPropagation()"><div class="chk-row"><svg class="chk" style="color:var(--green)" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div></div><div class="pfooter"><button id="pbtn3" class="contbtn green off" onclick="nextPlan()" disabled>CONTINUE</button></div></div>
    <div id="pc4" class="content hidden"><h2><svg class="green" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"/></svg>REVIEW PLAN</h2><div class="summary"><div class="sum-prod"><div class="sum-img" style="color:var(--green)">30D</div><div class="sum-info"><h4>30-Day Meal Plan</h4><p>1 XL bowl daily ‚Ä¢ 70g protein</p></div><div class="sum-price">$449.99</div></div><div class="del-sum"><div class="sum-item"><svg style="color:var(--green)" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg><div><span class="sum-lbl">Default Time</span><span id="prWin" class="sum-val">-</span></div><button class="edit-btn" style="color:var(--green)" onclick="goToPlan(2)">Edit</button></div><div class="sum-item"><svg style="color:var(--green)" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0116 0Z"/><circle cx="12" cy="10" r="3"/></svg><div><span class="sum-lbl">Default Location</span><span id="prLoc" class="sum-val">-</span></div><button class="edit-btn" style="color:var(--green)" onclick="goToPlan(3)">Edit</button></div></div><div class="discount-row"><span>You save vs single orders</span><span>$150.00</span></div><div class="total-row"><span>Monthly</span><span class="total-price">$449.99</span></div></div><div class="pfooter"><button class="checkbtn green" onclick="checkoutPlan()">START SUBSCRIPTION</button><p class="checknote">Cancel anytime ‚Ä¢ Unused days refunded</p></div></div>
  </div>

  <div id="confirm" class="page">
    <div class="conf-page"><div>
      <div class="conf-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></div>
      <h1 id="confTitle">ORDER CONFIRMED</h1>
      <p id="confSub">We'll deliver it hot and ready.</p>
      <div class="conf-card">
        <div class="conf-row"><span>Order</span><span id="cOrder">-</span></div>
        <div class="conf-row"><span>Window</span><span id="cWin">-</span></div>
        <div class="conf-row"><span>Location</span><span id="cLoc">-</span></div>
        <div class="conf-row"><span>Delivery</span><span style="color:#00D26A">FREE</span></div>
        <div class="conf-row total"><span>Total</span><span id="cTotal">-</span></div>
      </div>
      <button class="contbtn" onclick="reset()">ORDER AGAIN</button>
    </div></div>
  </div>
</div>

<script>
const BOWLS=[{id:'chicken',name:'CRISPY CHICKEN',desc:'Creamy alfredo with crispy chicken & onions',macros:{reg:{cal:440,protein:35,carbs:40,fat:17},xl:{cal:880,protein:70,carbs:80,fat:34}}},{id:'sausage',name:'CHICKEN & SAUSAGE',desc:'Creamy alfredo with chicken, sausage & onions',macros:{reg:{cal:490,protein:35,carbs:44,fat:20},xl:{cal:980,protein:70,carbs:88,fat:40}}}];
const SIZES=[{id:'reg',name:'Regular',price:10.99},{id:'xl',name:'XL',price:19.99}];
const XL_PRICE=19.99;
const TEAM_PRICING=[{min:30,price:12.99,save:'35%'},{min:20,price:13.99,save:'30%'},{min:10,price:14.99,save:'25%'}];
const W=[{id:1,label:'LUNCH',time:'11am ‚Äì 1pm'},{id:2,label:'DINNER',time:'5pm ‚Äì 7pm'}];
const L=[{id:1,name:'SFU SURREY',addr:'Central City',icon:'SFU'},{id:2,name:'CENTRAL CITY TOWER',addr:'Office Lobby',icon:'TWR'},{id:3,name:'KING GEORGE STN',addr:'SkyTrain',icon:'KG'},{id:4,name:'GATEWAY STN',addr:'SkyTrain',icon:'GATE'}];

let step=1,bowlType=null,size=null,win=null,loc=null,q=1,customSelected=false;
let tStep=1,tChicken=0,tSausage=0,tWin=null,tLoc=null,tCustomSelected=false;
let pStep=1,pWin=null,pLoc=null,pCustomSelected=false;

function toggleMenu(t){
  document.getElementById('togglePersonal').classList.remove('active');
  document.getElementById('toggleDessert').classList.remove('dessert-active');
  document.getElementById('toggleTeam').classList.remove('team-active');
  document.getElementById('personalSection').style.display='none';
  document.getElementById('dessertSection').classList.remove('show');
  document.getElementById('teamSection').classList.remove('show');
  
  if(t==='personal'){
    document.getElementById('togglePersonal').classList.add('active');
    document.getElementById('personalSection').style.display='block';
  }else if(t==='dessert'){
    document.getElementById('toggleDessert').classList.add('dessert-active');
    document.getElementById('dessertSection').classList.add('show');
  }else if(t==='team'){
    document.getElementById('toggleTeam').classList.add('team-active');
    document.getElementById('teamSection').classList.add('show');
  }
}

function renderBowlSelect(){document.getElementById('bowlSelect').innerHTML=BOWLS.map(b=>`<div class="bowl-opt" onclick="selBowl('${b.id}')"><h4>${b.name}</h4><p>${b.desc}</p></div>`).join('');}
function renderW(){document.getElementById('windows').innerHTML=W.map(w=>`<button class="opt" onclick="selW(${w.id})"><div class="opt-icon">${w.label.slice(0,3)}</div><div class="opt-info"><span class="opt-label">${w.label}</span><span class="opt-detail">${w.time}</span></div><svg class="chk" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></button>`).join('');}
function renderL(){document.getElementById('locations').innerHTML=L.map(l=>`<button class="opt" onclick="selL(${l.id})" id="l${l.id}"><div class="opt-icon">${l.icon}</div><div class="opt-info"><span class="opt-label">${l.name}</span><span class="opt-detail">${l.addr}</span><span class="opt-note">FREE</span></div><svg class="chk" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></button>`).join('');}
function renderTeamW(){document.getElementById('twindows').innerHTML=W.map(w=>`<button class="opt blue" onclick="selTeamW(${w.id})"><div class="opt-icon">${w.label.slice(0,3)}</div><div class="opt-info"><span class="opt-label">${w.label}</span><span class="opt-detail">${w.time}</span></div><svg class="chk" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></button>`).join('');}
function renderTeamL(){document.getElementById('tlocations').innerHTML=L.map(l=>`<button class="opt blue" onclick="selTeamL(${l.id})" id="tl${l.id}"><div class="opt-icon">${l.icon}</div><div class="opt-info"><span class="opt-label">${l.name}</span><span class="opt-detail">${l.addr}</span><span class="opt-note">FREE</span></div><svg class="chk" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></button>`).join('');}
function renderPlanW(){document.getElementById('pwindows').innerHTML=W.map(w=>`<button class="opt green" onclick="selPlanW(${w.id})"><div class="opt-icon">${w.label.slice(0,3)}</div><div class="opt-info"><span class="opt-label">${w.label}</span><span class="opt-detail">${w.time}</span></div><svg class="chk" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></button>`).join('');}
function renderPlanL(){document.getElementById('plocations').innerHTML=L.map(l=>`<button class="opt green" onclick="selPlanL(${l.id})" id="pl${l.id}"><div class="opt-icon">${l.icon}</div><div class="opt-info"><span class="opt-label">${l.name}</span><span class="opt-detail">${l.addr}</span><span class="opt-note">FREE</span></div><svg class="chk" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg></button>`).join('');}

function quickOrder(id){bowlType=BOWLS.find(b=>b.id===id);step=2;showPage('order');updSteps();showC();updSelectedBowl();renderSizeSelector();}
function selBowl(id){bowlType=BOWLS.find(b=>b.id===id);step=2;updSteps();showC();updSelectedBowl();renderSizeSelector();}
function updSelectedBowl(){if(bowlType)document.getElementById('selectedBowl').innerHTML=`<div class="info"><h4>${bowlType.name}</h4><p>${bowlType.desc}</p></div><button class="change" onclick="goTo(1)">Change</button>`;}
function renderSizeSelector(){if(!bowlType)return;const m=bowlType.macros;document.getElementById('sizeSelector').innerHTML=`<div class="size-opt" onclick="selSize('reg')"><div class="size-header"><h5>REGULAR</h5><div class="price">$10.99</div></div><div class="macro-grid"><div class="macro-box highlight"><div class="val">${m.reg.protein}g</div><div class="lbl">Protein</div></div><div class="macro-box"><div class="val">${m.reg.cal}</div><div class="lbl">Cal</div></div><div class="macro-box"><div class="val">${m.reg.carbs}g</div><div class="lbl">Carbs</div></div><div class="macro-box"><div class="val">${m.reg.fat}g</div><div class="lbl">Fat</div></div></div></div><div class="size-opt" onclick="selSize('xl')"><div class="size-header"><h5>XL</h5><div class="price">$19.99</div></div><div class="macro-grid"><div class="macro-box highlight"><div class="val">${m.xl.protein}g</div><div class="lbl">Protein</div></div><div class="macro-box"><div class="val">${m.xl.cal}</div><div class="lbl">Cal</div></div><div class="macro-box"><div class="val">${m.xl.carbs}g</div><div class="lbl">Carbs</div></div><div class="macro-box"><div class="val">${m.xl.fat}g</div><div class="lbl">Fat</div></div></div></div>`;}
function selSize(id){size=SIZES.find(s=>s.id===id);step=3;updSteps();showC();}
function selW(id){win=W.find(w=>w.id===id);step=4;updSteps();showC();}
function selL(id){loc=L.find(l=>l.id===id);customSelected=false;document.querySelectorAll('#locations .opt').forEach(c=>c.classList.remove('sel'));document.getElementById('customLoc').classList.remove('sel');document.getElementById('l'+id).classList.add('sel');step=5;updSteps();showC();updReview();}
function selectCustom(){loc={id:0,name:'CUSTOM'};customSelected=true;document.querySelectorAll('#locations .opt').forEach(c=>c.classList.remove('sel'));document.getElementById('customLoc').classList.add('sel');en('btn4');}
function en(id){const b=document.getElementById(id);if(b){b.classList.remove('off');b.disabled=false;}}

function showPage(id,s){document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));document.getElementById(id).classList.add('active');if(s&&id==='order'){step=s;updSteps();showC();}if(s&&id==='teamOrder'){tStep=s;updTeamSteps();showTeamC();}if(s&&id==='plan'){pStep=s;updPlanSteps();showPlanC();}}
function goBack(){if(step>1){step--;updSteps();showC();}else showPage('landing');}
function next(){if(step<5){step++;updSteps();showC();if(step===5)updReview();}}
function goTo(s){step=s;updSteps();showC();}
function updSteps(){for(let i=1;i<=5;i++){const s=document.getElementById('s'+i),l=document.getElementById('l'+i);s.classList.remove('active','done');s.textContent=i;if(i<step){s.classList.add('done');s.textContent='‚úì';if(l)l.classList.add('done');}else if(i===step)s.classList.add('active');if(l&&i>=step)l.classList.remove('done');}}
function showC(){for(let i=1;i<=5;i++)document.getElementById('c'+i).classList.add('hidden');document.getElementById('c'+step).classList.remove('hidden');}
function qty(d){q=Math.max(1,Math.min(9,q+d));document.getElementById('qtyD').textContent=q;updTotal();}
function updTotal(){if(size)document.getElementById('rTotal').textContent='$'+(size.price*q).toFixed(2);}
function updReview(){if(bowlType&&size){const m=bowlType.macros[size.id];document.getElementById('rEmoji').textContent='LB';document.getElementById('rName').textContent=bowlType.name+' ('+size.name+')'+(q>1?' x'+q:'');document.getElementById('rMacro').textContent=m.protein+'g protein ‚Ä¢ '+m.cal+' cal';document.getElementById('rPrice').textContent='$'+size.price.toFixed(2);}document.getElementById('rWin').textContent=win?win.time:'-';document.getElementById('rLoc').textContent=customSelected?(document.getElementById('customAddr').value||'Custom'):(loc?loc.name:'-');updTotal();}
function checkout(){document.getElementById('confTitle').textContent='ORDER CONFIRMED';document.getElementById('confSub').textContent="We'll deliver it hot and ready.";document.getElementById('cOrder').textContent=(bowlType?bowlType.name:'')+' ('+size.name+') x'+q;document.getElementById('cWin').textContent=win?win.time:'-';document.getElementById('cLoc').textContent=customSelected?(document.getElementById('customAddr').value||'Custom'):(loc?loc.name:'-');document.getElementById('cTotal').textContent='$'+(size.price*q).toFixed(2);showPage('confirm');}

function startTeamOrder(){tStep=1;showPage('teamOrder',1);}
function teamQty(t,d){if(t==='chicken'){tChicken=Math.max(0,tChicken+d);document.getElementById('tqChicken').textContent=tChicken;}else{tSausage=Math.max(0,tSausage+d);document.getElementById('tqSausage').textContent=tSausage;}updateTeamPricing();}
function getTeamPrice(total){for(let t of TEAM_PRICING)if(total>=t.min)return t;return{min:0,price:XL_PRICE,save:null};}
function updateTeamPricing(){const total=tChicken+tSausage,tier=getTeamPrice(total);document.getElementById('teamTotalBowls').textContent=total;document.getElementById('teamPriceEach').textContent='$'+tier.price.toFixed(2);document.getElementById('teamDiscount').textContent=tier.save?'Save '+tier.save:'';document.getElementById('teamMinNote').style.display=total>=10?'none':'block';const btn=document.getElementById('tbtn1');if(total>=10){btn.classList.remove('off');btn.disabled=false;}else{btn.classList.add('off');btn.disabled=true;}}
function selTeamW(id){tWin=W.find(w=>w.id===id);tStep=3;updTeamSteps();showTeamC();}
function selTeamL(id){tLoc=L.find(l=>l.id===id);tCustomSelected=false;document.querySelectorAll('#tlocations .opt').forEach(c=>c.classList.remove('sel'));document.getElementById('tcustomLoc').classList.remove('sel');document.getElementById('tl'+id).classList.add('sel');tStep=4;updTeamSteps();showTeamC();updTeamReview();}
function selectTeamCustom(){tLoc={id:0,name:'CUSTOM'};tCustomSelected=true;document.querySelectorAll('#tlocations .opt').forEach(c=>c.classList.remove('sel'));document.getElementById('tcustomLoc').classList.add('sel');en('tbtn3');}
function goBackTeam(){if(tStep>1){tStep--;updTeamSteps();showTeamC();}else showPage('landing');}
function nextTeam(){if(tStep<4){tStep++;updTeamSteps();showTeamC();if(tStep===4)updTeamReview();}}
function goToTeam(s){tStep=s;updTeamSteps();showTeamC();}
function updTeamSteps(){for(let i=1;i<=4;i++){const s=document.getElementById('ts'+i),l=document.getElementById('tl'+i);s.classList.remove('active','done','blue');s.textContent=i;if(i<tStep){s.classList.add('done');s.textContent='‚úì';if(l)l.classList.add('done');}else if(i===tStep)s.classList.add('active','blue');if(l&&i>=tStep)l.classList.remove('done');}}
function showTeamC(){for(let i=1;i<=4;i++)document.getElementById('tc'+i).classList.add('hidden');document.getElementById('tc'+tStep).classList.remove('hidden');}
function updTeamReview(){const total=tChicken+tSausage,tier=getTeamPrice(total);let o='';if(tChicken>0)o+=tChicken+' Crispy Chicken';if(tSausage>0)o+=(o?', ':'')+tSausage+' Chicken & Sausage';document.getElementById('trName').textContent=o;document.getElementById('trPrice').textContent='$'+tier.price.toFixed(2)+'/ea';document.getElementById('trWin').textContent=tWin?tWin.time:'-';document.getElementById('trLoc').textContent=tCustomSelected?(document.getElementById('tcustomAddr').value||'Custom'):(tLoc?tLoc.name:'-');const f=total*XL_PRICE,d=total*tier.price,sv=f-d;document.getElementById('trDiscountLabel').textContent=total+' bowls @ $'+tier.price.toFixed(2);document.getElementById('trDiscountAmt').textContent='-$'+sv.toFixed(2);document.getElementById('trTotal').textContent='$'+d.toFixed(2);}
function checkoutTeam(){const total=tChicken+tSausage,tier=getTeamPrice(total);let o='';if(tChicken>0)o+=tChicken+' Crispy Chicken';if(tSausage>0)o+=(o?', ':'')+tSausage+' Chicken & Sausage';document.getElementById('confTitle').textContent='TEAM ORDER CONFIRMED';document.getElementById('confSub').textContent="We'll deliver to your team.";document.getElementById('cOrder').textContent=o;document.getElementById('cWin').textContent=tWin?tWin.time:'-';document.getElementById('cLoc').textContent=tCustomSelected?(document.getElementById('tcustomAddr').value||'Custom'):(tLoc?tLoc.name:'-');document.getElementById('cTotal').textContent='$'+(total*tier.price).toFixed(2);showPage('confirm');}

function goBackPlan(){if(pStep>1){pStep--;updPlanSteps();showPlanC();}else showPage('landing');}
function nextPlan(){if(pStep<4){pStep++;updPlanSteps();showPlanC();if(pStep===4)updPlanReview();}}
function goToPlan(s){pStep=s;updPlanSteps();showPlanC();}
function updPlanSteps(){for(let i=1;i<=4;i++){const s=document.getElementById('ps'+i),l=document.getElementById('pl'+i);s.classList.remove('active','done','green');s.textContent=i;if(i<pStep){s.classList.add('done');s.textContent='‚úì';if(l)l.classList.add('done');}else if(i===pStep)s.classList.add('active','green');if(l&&i>=pStep)l.classList.remove('done');}}
function showPlanC(){for(let i=1;i<=4;i++)document.getElementById('pc'+i).classList.add('hidden');document.getElementById('pc'+pStep).classList.remove('hidden');}
function selPlanW(id){pWin=W.find(w=>w.id===id);pStep=3;updPlanSteps();showPlanC();}
function selPlanL(id){pLoc=L.find(l=>l.id===id);pCustomSelected=false;document.querySelectorAll('#plocations .opt').forEach(c=>c.classList.remove('sel'));document.getElementById('pcustomLoc').classList.remove('sel');document.getElementById('pl'+id).classList.add('sel');pStep=4;updPlanSteps();showPlanC();updPlanReview();}
function selectPlanCustom(){pLoc={id:0,name:'CUSTOM'};pCustomSelected=true;document.querySelectorAll('#plocations .opt').forEach(c=>c.classList.remove('sel'));document.getElementById('pcustomLoc').classList.add('sel');en('pbtn3');}
function updPlanReview(){document.getElementById('prWin').textContent=pWin?pWin.time:'-';document.getElementById('prLoc').textContent=pCustomSelected?(document.getElementById('pcustomAddr').value||'Custom'):(pLoc?pLoc.name:'-');}
function checkoutPlan(){document.getElementById('confTitle').textContent='PLAN ACTIVATED';document.getElementById('confSub').textContent="Your daily bowls start tomorrow!";document.getElementById('cOrder').textContent='30-Day Meal Plan';document.getElementById('cWin').textContent=pWin?pWin.time:'-';document.getElementById('cLoc').textContent=pCustomSelected?(document.getElementById('pcustomAddr').value||'Custom'):(pLoc?pLoc.name:'-');document.getElementById('cTotal').textContent='$449.99/mo';showPage('confirm');}

function reset(){bowlType=size=win=loc=null;q=1;step=1;customSelected=false;tChicken=tSausage=0;tWin=tLoc=null;tStep=1;tCustomSelected=false;pWin=pLoc=null;pStep=1;pCustomSelected=false;document.querySelectorAll('.bowl-opt,.opt,.custom-loc,.size-opt').forEach(c=>c.classList.remove('sel'));['btn4','tbtn1','tbtn3','pbtn3'].forEach(id=>{const b=document.getElementById(id);if(b){b.classList.add('off');b.disabled=true;}});document.getElementById('qtyD').textContent='1';document.getElementById('tqChicken').textContent='0';document.getElementById('tqSausage').textContent='0';['customAddr','tcustomAddr','pcustomAddr'].forEach(id=>{const el=document.getElementById(id);if(el)el.value='';});updateTeamPricing();resetCookies();toggleMenu('personal');showPage('landing');}

// Cookie Builder System
const COOKIES = [
  {id: 'lemon', name: 'Lemon White Chocolate', price: 3.17,
   desc: 'Bright, zesty lemon cookie studded with creamy white chocolate chips. A perfect balance of citrus tang and sweet indulgence.',
   tags: ['Citrus', 'White Choc']},
  {id: 'redvelvet', name: 'Red Velvet', price: 3.17,
   desc: 'Classic red velvet with a hint of cocoa, finished with cream cheese frosting drizzle. Rich, velvety, and irresistible.',
   tags: ['Fan Favorite', 'Cream Cheese']},
  {id: 'cookiescream', name: 'Cookies N Cream', price: 3.33,
   desc: 'Loaded with crushed Oreo pieces throughout a vanilla bean base. Cookies inside a cookie - what more could you want?',
   tags: ['Classic', 'Oreo']},
  {id: 'smores', name: "S'mores", price: 3.33,
   desc: 'Graham cracker base with gooey marshmallow and rich chocolate chunks. Tastes like a campfire in cookie form.',
   tags: ['Campfire', 'Marshmallow']},
  {id: 'caramel', name: 'Salted Caramel', price: 3.50,
   desc: 'Buttery caramel swirled throughout with flaky sea salt on top. The sweet-salty combo that hits different.',
   tags: ['Sweet & Salty', 'Popular']},
  {id: 'matcha', name: 'Matcha', price: 3.83,
   desc: 'Premium Japanese matcha green tea powder folded into white chocolate. Earthy, sophisticated, Instagram-worthy.',
   tags: ['Premium', 'Japanese']},
  {id: 'espresso', name: 'Espresso Double Choc', price: 3.83,
   desc: 'Real espresso baked into a double chocolate base. Coffee lovers, this is your wake-up call in cookie form.',
   tags: ['Coffee', 'Double Choc']},
  {id: 'ferrero', name: 'Ferrero Choc Chip', price: 3.83,
   desc: 'Inspired by Ferrero Rocher - hazelnut butter swirled with milk chocolate chips. Fancy, crunchy, decadent.',
   tags: ['Hazelnut', 'Luxe']},
  {id: 'nutella', name: 'Nutella', price: 3.83,
   desc: 'Stuffed with a gooey Nutella center that oozes when warm. Our best seller for a reason. Trust us on this one.',
   tags: ['Best Seller', 'Stuffed']},
];

function getCookieVisual(id, isModal = false) {
  const cls = isModal ? 'cookie-visual modal-cookie-visual' : 'cookie-visual';
  const visuals = {
    lemon: `<div class="${cls} cookie-lemon"><div class="chips"></div><div class="extra"></div></div>`,
    redvelvet: `<div class="${cls} cookie-redvelvet"><div class="drizzle"></div></div>`,
    cookiescream: `<div class="${cls} cookie-cookiescream"><div class="chunks"></div><div class="extra1"></div><div class="extra2"></div></div>`,
    smores: `<div class="${cls} cookie-smores"><div class="toppings"></div><div class="marsh"></div><div class="choc"></div><div class="choc2"></div></div>`,
    caramel: `<div class="${cls} cookie-caramel"><div class="swirl"></div><div class="salt"></div><div class="salt2"></div><div class="salt3"></div></div>`,
    matcha: `<div class="${cls} cookie-matcha"><div class="chips"></div><div class="extra"></div></div>`,
    espresso: `<div class="${cls} cookie-espresso"><div class="chips"></div><div class="bean"></div></div>`,
    ferrero: `<div class="${cls} cookie-ferrero"><div class="chips"></div><div class="nut"></div></div>`,
    nutella: `<div class="${cls} cookie-nutella"><div class="filling"></div><div class="swirl"></div></div>`
  };
  return visuals[id] || `<div class="${cls}">üç™</div>`;
}

let cookieCart = {};
let creamCheese = false;
let currentCookie = null;

function initCookieGrid() {
  const grid = document.getElementById('cookieGrid');
  if (!grid) return;
  
  grid.innerHTML = COOKIES.map(c => `
    <div class="cookie-card ${cookieCart[c.id] > 0 ? 'has-qty' : ''}" onclick="openCookieModal('${c.id}')">
      ${getCookieVisual(c.id)}
      <span class="name">${c.name}</span>
      <span class="price">$${c.price.toFixed(2)}</span>
      <div class="qty-badge" id="badge-${c.id}">${cookieCart[c.id] || 0}</div>
    </div>
  `).join('');
  
  updateBoxVisual();
}

function openCookieModal(id) {
  currentCookie = COOKIES.find(c => c.id === id);
  if (!currentCookie) return;
  
  document.getElementById('modalEmoji').innerHTML = getCookieVisual(id, true);
  document.getElementById('modalName').textContent = currentCookie.name;
  document.getElementById('modalPrice').textContent = '$' + currentCookie.price.toFixed(2) + ' each';
  document.getElementById('modalDesc').textContent = currentCookie.desc;
  document.getElementById('modalQty').textContent = cookieCart[id] || 0;
  
  // Render tags
  document.getElementById('modalTags').innerHTML = currentCookie.tags.map((tag, i) => 
    `<span class="modal-tag ${i === 0 ? 'highlight' : ''}">${tag}</span>`
  ).join('');
  
  document.getElementById('cookieModal').classList.add('show');
}

function closeCookieModal() {
  document.getElementById('cookieModal').classList.remove('show');
  currentCookie = null;
}

function modalUpdateQty(delta) {
  if (!currentCookie) return;
  
  const id = currentCookie.id;
  if (!cookieCart[id]) cookieCart[id] = 0;
  cookieCart[id] = Math.max(0, cookieCart[id] + delta);
  
  document.getElementById('modalQty').textContent = cookieCart[id];
  
  // Animate cookie to box when adding
  if (delta > 0) {
    const box = document.getElementById('cookieBox');
    box.classList.add('shake');
    setTimeout(() => box.classList.remove('shake'), 400);
  }
  
  // Update card in grid
  const card = document.querySelector(`[onclick="openCookieModal('${id}')"]`);
  if (card) {
    card.classList.toggle('has-qty', cookieCart[id] > 0);
  }
  const badge = document.getElementById('badge-' + id);
  if (badge) badge.textContent = cookieCart[id];
  
  updateBoxVisual();
  updateCookieSummary();
}

function updateBoxVisual() {
  const boxInner = document.getElementById('boxInner');
  const boxCount = document.getElementById('boxCount');
  const boxLid = document.getElementById('boxLid');
  
  if (!boxInner) return;
  
  let totalQty = 0;
  let cookieItems = [];
  
  COOKIES.forEach(c => {
    const qty = cookieCart[c.id] || 0;
    totalQty += qty;
    for (let i = 0; i < Math.min(qty, 3); i++) {
      cookieItems.push(c.id);
    }
  });
  
  const displayCookies = cookieItems.slice(0, 12);
  
  boxInner.innerHTML = displayCookies.map((id, i) => 
    `<span class="box-cookie" style="animation-delay:${i * 0.02}s">${getMiniCookieVisual(id)}</span>`
  ).join('');
  
  boxCount.textContent = totalQty + ' cookie' + (totalQty !== 1 ? 's' : '');
  boxLid.classList.toggle('open', totalQty === 0);
}

function getMiniCookieVisual(id) {
  const visuals = {
    lemon: `<div class="mini-cookie cookie-lemon"><div class="chips"></div></div>`,
    redvelvet: `<div class="mini-cookie cookie-redvelvet"><div class="drizzle"></div></div>`,
    cookiescream: `<div class="mini-cookie cookie-cookiescream"><div class="chunks"></div></div>`,
    smores: `<div class="mini-cookie cookie-smores"><div class="marsh"></div></div>`,
    caramel: `<div class="mini-cookie cookie-caramel"><div class="swirl"></div></div>`,
    matcha: `<div class="mini-cookie cookie-matcha"><div class="chips"></div></div>`,
    espresso: `<div class="mini-cookie cookie-espresso"><div class="chips"></div></div>`,
    ferrero: `<div class="mini-cookie cookie-ferrero"><div class="chips"></div></div>`,
    nutella: `<div class="mini-cookie cookie-nutella"><div class="filling"></div></div>`
  };
  return visuals[id] || `<div class="mini-cookie">üç™</div>`;
}

function toggleCreamCheese() {
  creamCheese = !creamCheese;
  document.getElementById('creamCheeseToggle').classList.toggle('on', creamCheese);
  updateCookieSummary();
}

function updateCookieSummary() {
  let totalQty = 0;
  let subtotal = 0;
  
  COOKIES.forEach(c => {
    const qty = cookieCart[c.id] || 0;
    totalQty += qty;
    subtotal += qty * c.price;
  });
  
  if (creamCheese && totalQty > 0) subtotal += totalQty * 1;
  
  let discountPct = 0;
  if (totalQty >= 30) discountPct = 15;
  else if (totalQty >= 20) discountPct = 10;
  else if (totalQty >= 10) discountPct = 5;
  
  const discount = subtotal * (discountPct / 100);
  const total = subtotal - discount;
  
  document.getElementById('totalCookies').textContent = totalQty;
  document.getElementById('cookieTotal').textContent = '$' + total.toFixed(2);
  
  const discountRow = document.getElementById('discountRow');
  if (discountPct > 0) {
    discountRow.style.display = 'flex';
    document.getElementById('discountLabel').textContent = 'Bulk discount (' + discountPct + '%)';
    document.getElementById('discountAmt').textContent = '-$' + discount.toFixed(2);
  } else {
    discountRow.style.display = 'none';
  }
  
  document.getElementById('tier10').classList.toggle('active', totalQty >= 10 && totalQty < 20);
  document.getElementById('tier20').classList.toggle('active', totalQty >= 20 && totalQty < 30);
  document.getElementById('tier30').classList.toggle('active', totalQty >= 30);
  
  const btn = document.getElementById('dessertCta');
  if (totalQty > 0) {
    btn.textContent = 'ORDER ' + totalQty + ' COOKIES ‚Ä¢ $' + total.toFixed(2);
    btn.disabled = false;
  } else {
    btn.textContent = 'ADD COOKIES TO ORDER';
    btn.disabled = true;
  }
}

function orderCookies() {
  let totalQty = 0;
  let subtotal = 0;
  
  COOKIES.forEach(c => {
    const qty = cookieCart[c.id] || 0;
    if (qty > 0) {
      totalQty += qty;
      subtotal += qty * c.price;
    }
  });
  
  if (totalQty === 0) return;
  
  if (creamCheese) subtotal += totalQty * 1;
  
  let discountPct = 0;
  if (totalQty >= 30) discountPct = 15;
  else if (totalQty >= 20) discountPct = 10;
  else if (totalQty >= 10) discountPct = 5;
  
  const total = subtotal * (1 - discountPct/100);
  
  document.getElementById('confTitle').textContent = 'COOKIE ORDER CONFIRMED';
  document.getElementById('confSub').textContent = "Fresh cookies coming your way!";
  document.getElementById('cOrder').textContent = totalQty + ' Cookies' + (creamCheese ? ' + Cream Cheese' : '');
  document.getElementById('cWin').textContent = 'Next Day Delivery';
  document.getElementById('cLoc').textContent = 'Your Address';
  document.getElementById('cTotal').textContent = '$' + total.toFixed(2);
  showPage('confirm');
}

function resetCookies() {
  cookieCart = {};
  creamCheese = false;
  currentCookie = null;
  document.getElementById('creamCheeseToggle')?.classList.remove('on');
  initCookieGrid();
  updateCookieSummary();
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', () => {
  renderBowlSelect();
  renderW();
  renderL();
  renderTeamW();
  renderTeamL();
  renderPlanW();
  renderPlanL();
  initCookieGrid();
});
</script>

</body>
</html>
